{% extends "base.html" %}
{% block content %}
<!--This is taken from base.html-->

<h3 class="deep-purple-text text-darken-2 center-align">All Tasks</h3>

<!-- We can use a jinja for loop to generate a list item for each task
    We are listing each task and each due date, within the collapsible body
    we add the category name and description.
    We also check if task is urgent is on.
    Task.created_by is taken from our app.py file
    -->
<ul class="collapsible">
	{% for task in tasks %}
	<li>
		<div class="collapsible-header white-text deep-purple darken-2 text-shadow">
			<div class="col s3">
				<i class="fas fa-caret-down"></i>
                <a href="" class="btn-small teal accent-4">Done</a>
                <a href="" class="btn-small light-blue lighten-1">Edit</a> 
			</div>
			<div class="col s9">
				<strong>{{ task.task_name }}</strong> : {{ task.due_date }}
				{% if task.is_urgent == "on" %}
				<i class="fas fa-exclamation-circle deep-purple-text text-lighten-2 tooltipped"
                        data-position="right" data-tooltip="URGENT!"></i>
				{% endif %}
			</div>
		</div>
		<div class="collapsible-body">
			<strong>{{ task.category_name }}</strong>
			<p>{{ task.task_description }}</p>
			<p><em>by: {{ task.created_by }}</em></p>
		</div>
	</li>
	{% endfor %}
</ul>

{% endblock %}